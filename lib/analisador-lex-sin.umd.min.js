!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.analisador=n():e.analisador=n()}(window,function(){return function(e){var n={};function t(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=5)}([function(e,n,t){"use strict";n.__esModule=!0;n.POS_ESQUERDA="Esquerda";n.POS_DIREITA="Direita";n.POS_CENTRO="Centro";n.TIPO_NAO_TERMINAL="NÃO TERMINAL";n.TIPO_TERMINAL="TERMINAL";n.TIPO_E="E";n.TIPO_NUMERO="NÚMERO";n.TIPO_INCOGNITA="INCÓGNITA";n.TIPO_OPERADOR="OPERADOR";n.TIPO_ABRE_PARENTESES="(";n.DESC_TIPO_ABRE_PARENTESES="ABRE PARÊNTESES";n.TIPO_FECHA_PARENTESES=")";n.DESC_TIPO_FECHA_PARENTESES="FECHA PARÊNTESES";n.ARR_OPERADORES=["+","-","/","*"];n.ARR_INCOGNITAS=["x","y"]},function(e,n,t){"use strict";var r,i=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,n){e.__proto__=n}||function(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])},function(e,n){function t(){this.constructor=e}r(e,n),e.prototype=null===n?Object.create(n):(t.prototype=n.prototype,new t)});n.__esModule=!0;var o=t(0),u=function(){return function(e,n){this.valor=e,this.tipo=n}}();n.InfoNode=u;var a=function(e){function n(n){return e.call(this,n,o.TIPO_NAO_TERMINAL)||this}return i(n,e),n}(u);n.NaoTerminal=a;var c=function(e){function n(){return e.call(this,o.TIPO_E)||this}return i(n,e),n}(a);n.E=c;var s=function(e){function n(){return e.call(this,o.TIPO_NUMERO)||this}return i(n,e),n}(a);n.Numero=s;var f=function(e){function n(){return e.call(this,o.TIPO_INCOGNITA)||this}return i(n,e),n}(a);n.Incognita=f;var l=function(e){function n(){return e.call(this,o.TIPO_OPERADOR)||this}return i(n,e),n}(a);n.Operador=l;var _=function(e){function n(n){return e.call(this,n,o.TIPO_TERMINAL)||this}return i(n,e),n}(u);n.Terminal=_;var E=function(e){function n(){return e.call(this,o.TIPO_ABRE_PARENTESES)||this}return i(n,e),n}(_);n.AbreParenteses=E;var d=function(e){function n(){return e.call(this,o.TIPO_FECHA_PARENTESES)||this}return i(n,e),n}(_);n.FechaParenteses=d},function(e,n,t){"use strict";n.__esModule=!0;var r=t(0);function i(e){return r.ARR_OPERADORES.some(function(n){return n===e})}function o(e){return r.ARR_INCOGNITAS.some(function(n){return n===e})}function u(e){return!isNaN(e)&&""!==e}function a(e){return e===r.TIPO_ABRE_PARENTESES}function c(e){return e===r.TIPO_FECHA_PARENTESES}n.analisadorLexico=function(e){for(var n="-",t=0,s=[],f=0,l=e.split(" ");f<l.length;f++){var _=l[f];n="-",o(_)?n=r.TIPO_INCOGNITA:i(_)?n=r.TIPO_OPERADOR:u(_)?n=r.TIPO_NUMERO:a(_)?n=r.DESC_TIPO_ABRE_PARENTESES:c(_)&&(n=r.DESC_TIPO_FECHA_PARENTESES),s.push({token:_,identificador:n,posicao:t}),t+=1}return s},n.eh_operador=i,n.eh_abre_parentese=a,n.eh_fecha_parentese=c},function(e,n,t){"use strict";n.__esModule=!0;var r=t(1),i=t(0),o=function(){return function(){this.raiz=new u(new r.E)}}();n.Tree=o;var u=function(){function e(e){this.esquerdo=null,this.centro=null,this.direito=null,this.info=null,this.info=new r.InfoNode(e.valor,e.tipo)}return e.prototype.visitInOrdem=function(e){return void 0===e&&(e=""),null!==this.esquerdo&&(e=this.esquerdo.visitInOrdem(e)),null!==this.centro&&(e=this.centro.visitInOrdem(e)),null!==this.direito&&(e=this.direito.visitInOrdem(e)),this.info.tipo===i.TIPO_TERMINAL&&(e=e+this.info.valor+" "),e},e.prototype.getJSON=function(e){void 0===e&&(e=[]);var n={text:{name:this.info.valor},children:[]};return null!==this.esquerdo&&n.children.unshift(this.centro.getJSON(e)),null!==this.centro&&n.children.unshift(this.centro.getJSON(e)),null!==this.direito&&n.children.unshift(this.centro.getJSON(e)),n},e}();n.Node=u},function(e,n,t){"use strict";n.__esModule=!0;var r=t(0),i=t(1),o=t(3),u=t(1),a=t(2);function c(e,n){return void 0===n&&(n=""),e.map(function(e){return e.token}).join(n)}function s(e){for(var n=c(e),t=0,r=0,i=0,o=n;i<o.length;i++){var u=o[i];if(a.eh_abre_parentese(u))r+=1;else if(a.eh_fecha_parentese(u))r-=1;else if(a.eh_operador(u)&&0===r)return t;t+=1}return console.log(n),0}n.fillTree=function(e){var n=new o.Tree;return n.raiz=function e(n,t){if(function(e){return 1===e.length&&e[0].identificador===r.TIPO_NUMERO}(n)){var f=n[0].token;t.centro=new o.Node(new i.Numero);var l=new u.Terminal(f);return l=new i.InfoNode(l.valor,l.tipo),t.centro.centro=new o.Node(l),t}if(function(e){return 1===e.length&&e[0].identificador===r.TIPO_INCOGNITA}(n)){var _=n[0].token;t.centro=new o.Node(new u.Incognita);var E=new u.Terminal(_);return E=new i.InfoNode(E.valor,E.tipo),t.centro.centro=new o.Node(E),t}if(function(e){if(e[0].identificador===r.DESC_TIPO_ABRE_PARENTESES&&e[e.length-1].identificador===r.DESC_TIPO_FECHA_PARENTESES){for(var n=c(e.slice(1,e.length-1)),t=!1,i=0,o=n;i<o.length;i++){var u=o[i];a.eh_abre_parentese(u)&&(t=!0),a.eh_fecha_parentese(u)&&t&&(t=!1)}return!t}return!1}(n)){var d=n.slice(1,n.length-1);return t.esquerdo=new o.Node(new u.AbreParenteses),t.direito=new o.Node(new u.FechaParenteses),t.centro=e(d,new o.Node(new u.E)),t}if(s(n)>0){var O=s(n),h=n.slice(0,O),N=n.slice(O+1,n.length),T=new o.Node(new i.Operador),I=n[O].token;return T.centro=new o.Node(new u.Terminal(I)),t.centro=T,t.esquerdo=e(h,new o.Node(new u.E)),t.direito=e(N,new o.Node(new u.E)),t}}(e,n.raiz),n}},function(e,n,t){"use strict";n.__esModule=!0;var r=t(2),i=t(4);function o(e){for(var n=0,t=e;n<t.length;n++){var r=t[n];if("-"===r.identificador)return{msg:"Erro léxico: Token '"+r.token+"' não existe na gramática!",status:"erro"}}return{msg:"Sentença lexicamente correta!",status:"ok"}}function u(e,n){return void 0===n&&(n=0),0===n?{msg:e,status:"erro"}:{msg:e,status:"ok"}}n.verificaSentenca=function(e){e=e.trim();var n=r.analisadorLexico(e);if(n){var t=o(n);if("erro"===t.status)return u(t.msg);try{return i.fillTree(n).raiz.visitInOrdem().trim()===e?u("Sentença léxica e sintaticamente correta!",1):u("Sentença sintaticamente incorreta!")}catch(e){return u("Sentença sintaticamente incorreta!")}}},n.getChildrenAsJSON=function(e){var n=r.analisadorLexico(e);if(n){var t=o(n);if("erro"===t.status)return u(t.msg);try{return i.fillTree(n).raiz.getJSON()}catch(e){return{status:"erro"}}}}}])});